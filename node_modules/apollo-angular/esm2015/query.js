import { Injectable } from '@angular/core';
import { Apollo } from './apollo';
export class Query {
    constructor(apollo) {
        this.apollo = apollo;
        this.client = 'default';
    }
    watch(variables, options) {
        return this.apollo.use(this.client).watchQuery(Object.assign(Object.assign({}, options), { variables, query: this.document }));
    }
    fetch(variables, options) {
        return this.apollo.use(this.client).query(Object.assign(Object.assign({}, options), { variables, query: this.document }));
    }
}
Query.decorators = [
    { type: Injectable }
];
Query.ctorParameters = () => [
    { type: Apollo }
];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicXVlcnkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvcXVlcnkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFDLFVBQVUsRUFBQyxNQUFNLGVBQWUsQ0FBQztBQUt6QyxPQUFPLEVBQUMsTUFBTSxFQUFDLE1BQU0sVUFBVSxDQUFDO0FBS2hDLE1BQU0sT0FBTyxLQUFLO0lBSWhCLFlBQXNCLE1BQWM7UUFBZCxXQUFNLEdBQU4sTUFBTSxDQUFRO1FBRjdCLFdBQU0sR0FBRyxTQUFTLENBQUM7SUFFYSxDQUFDO0lBRWpDLEtBQUssQ0FDVixTQUFhLEVBQ2IsT0FBbUM7UUFFbkMsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsVUFBVSxpQ0FDekMsT0FBTyxLQUNWLFNBQVMsRUFDVCxLQUFLLEVBQUUsSUFBSSxDQUFDLFFBQVEsSUFDcEIsQ0FBQztJQUNMLENBQUM7SUFFTSxLQUFLLENBQ1YsU0FBYSxFQUNiLE9BQThCO1FBRTlCLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEtBQUssaUNBQ3BDLE9BQU8sS0FDVixTQUFTLEVBQ1QsS0FBSyxFQUFFLElBQUksQ0FBQyxRQUFRLElBQ3BCLENBQUM7SUFDTCxDQUFDOzs7WUEzQkYsVUFBVTs7O1lBSkgsTUFBTSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7SW5qZWN0YWJsZX0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge0RvY3VtZW50Tm9kZX0gZnJvbSAnZ3JhcGhxbCc7XG5pbXBvcnQge0Fwb2xsb1F1ZXJ5UmVzdWx0fSBmcm9tICdhcG9sbG8tY2xpZW50JztcbmltcG9ydCB7T2JzZXJ2YWJsZX0gZnJvbSAncnhqcyc7XG5cbmltcG9ydCB7QXBvbGxvfSBmcm9tICcuL2Fwb2xsbyc7XG5pbXBvcnQge1F1ZXJ5UmVmfSBmcm9tICcuL3F1ZXJ5LXJlZic7XG5pbXBvcnQge1dhdGNoUXVlcnlPcHRpb25zQWxvbmUsIFF1ZXJ5T3B0aW9uc0Fsb25lLCBSfSBmcm9tICcuL3R5cGVzJztcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIFF1ZXJ5PFQgPSB7fSwgViA9IFI+IHtcbiAgcHVibGljIHJlYWRvbmx5IGRvY3VtZW50OiBEb2N1bWVudE5vZGU7XG4gIHB1YmxpYyBjbGllbnQgPSAnZGVmYXVsdCc7XG5cbiAgY29uc3RydWN0b3IocHJvdGVjdGVkIGFwb2xsbzogQXBvbGxvKSB7fVxuXG4gIHB1YmxpYyB3YXRjaChcbiAgICB2YXJpYWJsZXM/OiBWLFxuICAgIG9wdGlvbnM/OiBXYXRjaFF1ZXJ5T3B0aW9uc0Fsb25lPFY+LFxuICApOiBRdWVyeVJlZjxULCBWPiB7XG4gICAgcmV0dXJuIHRoaXMuYXBvbGxvLnVzZSh0aGlzLmNsaWVudCkud2F0Y2hRdWVyeTxULCBWPih7XG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgdmFyaWFibGVzLFxuICAgICAgcXVlcnk6IHRoaXMuZG9jdW1lbnQsXG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgZmV0Y2goXG4gICAgdmFyaWFibGVzPzogVixcbiAgICBvcHRpb25zPzogUXVlcnlPcHRpb25zQWxvbmU8Vj4sXG4gICk6IE9ic2VydmFibGU8QXBvbGxvUXVlcnlSZXN1bHQ8VD4+IHtcbiAgICByZXR1cm4gdGhpcy5hcG9sbG8udXNlKHRoaXMuY2xpZW50KS5xdWVyeTxULCBWPih7XG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgdmFyaWFibGVzLFxuICAgICAgcXVlcnk6IHRoaXMuZG9jdW1lbnQsXG4gICAgfSk7XG4gIH1cbn1cbiJdfQ==