{"version":3,"file":"test.js","sourceRoot":"","sources":["../../../schematics/utils/test.ts"],"names":[],"mappings":";;;;AAAA,+BAA0B;AAE1B,gEAG4C;AAE5C,MAAM,cAAc,GAAG,WAAI,CAAC,SAAS,EAAE,oBAAoB,CAAC,CAAC;AAE7D,SAAsB,aAAa,CAAC,UAAU,GAAG,EAAE;;QACjD,MAAM,UAAU,GAAG,IAAI,6BAAmB,CAAC,YAAY,EAAE,cAAc,CAAC,CAAC;QAEzE,MAAM,aAAa,GAAG,MAAM,UAAU;aACnC,yBAAyB,CAAC,qBAAqB,EAAE,WAAW,EAAE;YAC7D,IAAI,EAAE,WAAW;YACjB,OAAO,EAAE,OAAO;YAChB,cAAc,EAAE,UAAU;SAC3B,CAAC;aACD,SAAS,EAAE,CAAC;QAEf,OAAO,UAAU;aACd,yBAAyB,CACxB,qBAAqB,EACrB,aAAa,kCAER,UAAU,KACb,IAAI,EAAE,QAAQ,KAEhB,aAAa,CACd;aACA,SAAS,EAAE,CAAC;IACjB,CAAC;CAAA;AAtBD,sCAsBC","sourcesContent":["import {join} from 'path';\n\nimport {\n  SchematicTestRunner,\n  UnitTestTree,\n} from '@angular-devkit/schematics/testing';\n\nconst collectionPath = join(__dirname, '../collection.json');\n\nexport async function createTestApp(appOptions = {}): Promise<UnitTestTree> {\n  const baseRunner = new SchematicTestRunner('schematics', collectionPath);\n\n  const workspaceTree = await baseRunner\n    .runExternalSchematicAsync('@schematics/angular', 'workspace', {\n      name: 'workspace',\n      version: '6.0.0',\n      newProjectRoot: 'projects',\n    })\n    .toPromise();\n\n  return baseRunner\n    .runExternalSchematicAsync(\n      '@schematics/angular',\n      'application',\n      {\n        ...appOptions,\n        name: 'apollo',\n      },\n      workspaceTree,\n    )\n    .toPromise();\n}\n"]}